<!DOCTYPE html>
<head>
  <title>Locator</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <style>
    html,
    body {
      height: 100%;
      margin: 0;
    }

    gmpx-store-locator {
      width: 100%;
      height: 100%;

      /* These parameters customize the appearance of Locator Plus. See the documentation at
         https://github.com/googlemaps/extended-component-library/blob/main/src/store_locator/README.md
         for more information. */
      --gmpx-color-surface: #fff;
      --gmpx-color-on-surface: #212121;
      --gmpx-color-on-surface-variant: #757575;
      --gmpx-color-primary: #1967d2;
      --gmpx-color-outline: #e0e0e0;
      --gmpx-fixed-panel-width-row-layout: 28.5em;
      --gmpx-fixed-panel-height-column-layout: 65%;
      --gmpx-font-family-base: "Roboto", sans-serif;
      --gmpx-font-family-headings: "Roboto", sans-serif;
      --gmpx-font-size-base: 0.875rem;
      --gmpx-hours-color-open: #188038;
      --gmpx-hours-color-closed: #d50000;
      --gmpx-rating-color: #ffb300;
      --gmpx-rating-color-empty: #e0e0e0;
    }
  </style>
  <script>
    const CONFIGURATION = {
      "mapOptions": {"fullscreenControl":true,"mapTypeControl":false,"streetViewControl":false,"zoom":4,"zoomControl":true,"maxZoom":17,"mapId":""},
      "mapsApiKey": "YOUR_API_KEY_HERE",
      "capabilities": {"input":true,"autocomplete":true,"directions":false,"distanceMatrix":true,"details":false,"actions":true}
    };

    function initMap() {
      if (navigator.geolocation) {
        navigator.geolocation.getCurrentPosition(position => {
          CONFIGURATION.mapOptions.center = {
            lat: position.coords.latitude,
            lng: position.coords.longitude
          };
          initializeLocator(CONFIGURATION);
        }, () => {
          initializeLocator(CONFIGURATION); // Initialize with default center if geolocation is denied
        });
      } else {
        initializeLocator(CONFIGURATION); // Initialize with default center if geolocation is not supported
      }
    }

    async function initializeLocator(configuration) {
      await customElements.whenDefined('gmpx-store-locator');
      const locator = document.querySelector('gmpx-store-locator');
      locator.configureFromQuickBuilder(configuration);
    }

    function searchFood() {
      const food = document.getElementById('foodInput').value;
      const request = {
        query: `restaurants ${food}`,
        fields: ['name', 'formatted_address', 'geometry']
      };

      const service = new google.maps.places.PlacesService(document.createElement('div'));
      service.textSearch(request, (results, status) => {
        if (status === google.maps.places.PlacesServiceStatus.OK) {
          // Process the search results and display on the map
          console.log(results);
          // Here you can handle the results and display them on the map or in a list
        } else {
          console.error('Error fetching restaurants:', status);
        }
      });
    }
  </script>
</head>
<body onload="initMap()">
  <!-- Please note unpkg.com is unaffiliated with Google Maps Platform. -->
  <script type="module" src="https://unpkg.com/@googlemaps/extended-component-library@0.6"></script>

  <!-- Uses components from the Extended Component Library; see
       https://github.com/googlemaps/extended-component-library for more information
       on these HTML tags and how to configure them. -->
  <gmpx-api-loader key="AIzaSyAZsacPvsgds2NEqvPjLzt9a6xJTAOAo48" solution-channel="GMP_QB_locatorplus_v10_cABDF"></gmpx-api-loader>
  <gmpx-store-locator map-id="DEMO_MAP_ID"></gmpx-store-locator>

  <!-- Search input -->
  <div>
    <input type="text" id="foodInput" placeholder="Type of food">
    <button onclick="searchFood()">Search</button>
  </div>
</body>
</html>




<!-- AIzaSyAZsacPvsgds2NEqvPjLzt9a6xJTAOAo48 -->